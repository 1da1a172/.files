set runtimepath=~/.config/vim,$VIM/vimfiles,$VIMRUNTIME,$VIM/vimfiles/after,~/$VIMDOTDIR/after
set viminfo+=n~/.config/vim/viminfo
set viewdir=$VIMDOTDIR/views
syntax on
set relativenumber
set number
set nojoinspaces
filetype plugin indent on
set expandtab softtabstop=2 shiftwidth=2
autocmd Filetype java setlocal expandtab sts=4 sw=4 colorcolumn=81
autocmd Filetype c setlocal noexpandtab sts=8 sw=8 colorcolumn=81
autocmd Filetype cpp setlocal noexpandtab sts=8 sw=8 colorcolumn=81
autocmd Filetype tex setlocal colorcolumn=81 spelllang=en spell textwidth=80
autocmd Filetype tex let ale_linters = {'tex': ['chktex']}
autocmd Filetype dot setlocal noexpandtab sts=8 sw=8 colorcolumn=81 autoindent
autocmd Filetype python setlocal expandtab sts=4 sw=4 colorcolumn=81
autocmd Filetype json setlocal foldmethod=syntax
autocmd Filetype go setlocal noexpandtab sts=8 sw=8 colorcolumn=81
autocmd Filetype markdown setlocal colorcolumn=81 spell textwidth=80
autocmd Filetype mail setlocal colorcolumn=73 textwidth=72 spell
au BufRead,BufNewFile *.g4 set filetype=antlr4
autocmd Filetype antlr4 setlocal noexpandtab sts=8 sw=8 colorcolumn=81 autoindent
autocmd Filetype rust setlocal colorcolumn=100
set nowrap
set encoding=utf-8
set fileencoding=utf-8
" 24 bit color
if (has("termguicolors"))
  let &t_8f = "\e[38;2;%lu;%lu;%lum"
  let &t_8b = "\e[48;2;%lu;%lu;%lum"
  set termguicolors
endif

" undercurls
let &t_Cs = "\e[4:3m"
let &t_Ce = "\e[4:0m"

" theme
let g:gruvbox_italic = '1'
let g:gruvbox_contrast_dark = 'hard'
let g:gruvbox_guisp_fallback = 'fg'
set background=dark
colorscheme gruvbox

" Highlight trailing whitespace
hi ExtraWhitespace ctermbg=1
match ExtraWhitespace /\s\+$/

set pastetoggle=<F2>
" additional latexsuite stuff
set grepprg=grep\ -nH\ $*
let g:tex_flavor = "latex"
set title

"xml folding
augroup XML
  let g:xml_syntax_folding=1
  autocmd!
  autocmd FileType xml setlocal foldmethod=syntax foldlevelstart=999 foldminlines=0
augroup END
